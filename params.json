{"name":"Mongoid fixtures","tagline":"Fixtures for Ruby without Rails for Mongoid.","body":"# MongoidFixtures\r\nFixtures for Ruby for Mongoid. No Rails needed!\r\n\r\n## Installation\r\n\r\nAdd this line to your application's Gemfile:\r\n\r\n```ruby\r\ngem 'mongoid_fixtures'\r\n```\r\n\r\nAnd then execute:\r\n\r\n    $ bundle\r\n\r\nOr install it yourself as:\r\n\r\n    $ gem install mongoid_fixtures\r\n\r\n## Example Usage\r\n\r\n1.  Define some Mongoid Documents. The class structure is pretty silly and only meant to demonstrate the different modes. \r\n\r\n        class GeopoliticalDivision\r\n          include Mongoid::Document\r\n          field :name, type: String\r\n          field :time_zone, type: String\r\n          field :demonym, type: String\r\n          field :settled, type: Integer\r\n          field :consolidated, type: Integer\r\n          field :custom_attributes, type: Array\r\n          belongs_to :geo_uri_scheme\r\n          embeds_one :population\r\n          embeds_many :people\r\n\r\n        end\r\n\r\n        class Population\r\n          include Mongoid::Document\r\n\r\n          field :total, type: Integer\r\n          field :rank, type: Integer\r\n          field :density, type: String\r\n          field :msa, type: Integer\r\n          field :csa, type: Integer\r\n          field :source, type: String\r\n          embedded_in :geopolitical_division\r\n\r\n        end\r\n\r\n        class City < GeopoliticalDivision\r\n          include Mongoid::Document\r\n          belongs_to :state\r\n        end\r\n\r\n        class State < GeopoliticalDivision\r\n          include Mongoid::Document\r\n\r\n          field :motto, type: String\r\n          field :admission_to_union, type: String\r\n\r\n          has_many :cities\r\n\r\n        end\r\n\r\n        class GeoUriScheme\r\n          include Mongoid::Document\r\n\r\n          field :x, type: Float\r\n          field :y, type: Float\r\n          field :z, type: Float\r\n\r\n          alias :longitude :x\r\n          alias :latitude :y\r\n          alias :altitude :z\r\n        end\r\n\r\n        class Person\r\n          include Mongoid::Document\r\n\r\n          embedded_in :geopolitical_division\r\n\r\n          field :first_name, type: String\r\n          field :paternal_surname, type: String\r\n          field :born, type: Date\r\n          field :description, type: String\r\n          field :middle_name, type: String\r\n          field :suffix, type: String\r\n          field :died, type: Date\r\n          field :maternal_surname, type: String\r\n          field :nick_names, type: Array\r\n\r\n        end\r\n\r\n2.  Defin efixtures  in /test/fixtures/ with a plural form of the class\r\n\r\n    /test/fixtures/cities.yml:    \r\n    \r\n        :new_york_city:\r\n          name: New York City\r\n          :population:\r\n            total: 9_000_000\r\n            rank: 1\r\n            density: 10,756.0/km2\r\n            msa: 20,092,883\r\n            csa: 23,632,722\r\n            source: U.S. Census (2014)\r\n          demonym: New Yorker\r\n          settled: 1624\r\n          consolidated: 1989\r\n          custom_attributes:\r\n            - boroughs: ['Manhattan', 'The Bronx', 'Brooklyn', 'Queens', 'Staten Island']\r\n          :people:\r\n            - first_name: Kareem\r\n              paternal_surname: Abdul-Jabbar\r\n              born: April 16, 1947\r\n              description: basketball player\r\n            - first_name: Robert\r\n              middle_name: John\r\n              paternal_surname: Downey\r\n              suffix: Jr.\r\n              born: April 4, 1965\r\n              description: an American actor whose career has included critical and popular success in his youth, followed by a period of substance abuse and legal troubles, and a resurgence of commercial success in middle age.\r\n            - first_name: Edward\r\n              middle_name: Kennedy\r\n              paternal_surname: Ellington\r\n              nick_names:\r\n                - Duke\r\n              born: April 29, 1899\r\n              died: May 24, 1974\r\n              description: was an American composer, pianist and bandleader of jazz orchestras. He led his orchestra from 1923 until his death, his career spanning over 50 years.\r\n            - first_name: Christopher\r\n              middle_name: George\r\n              paternal_surname: Latore\r\n              maternal_surname: Wallace\r\n              nick_names:\r\n                - The Notorious B.I.G.\r\n                - B.I.G.\r\n                - Biggie Smalls\r\n                - Big Poppa\r\n                - Frank White\r\n                - King of New York\r\n              born: May 21, 1972\r\n              died: March 9, 1997\r\n              description: was an American rapper. Wallace is consistently ranked as one of the greatest rappers ever and one of the most influential rappers of all time.\r\n          state: :new_york\r\n          geo_uri_scheme: :new_york_city\r\n        :terrytown:\r\n          name: Terrytown\r\n          state: :louisiana\r\n          :population:\r\n            total: 24_000\r\n          geo_uri_scheme: :terrytown\r\n\r\n    /test/fixtures/states.yml:   \r\n        \r\n        :new_york:\r\n          name: New York\r\n          :population:\r\n            total: 20_000_000\r\n          demonym: New Yorker\r\n          capital: Albany\r\n          motto: Excelsior\r\n          admission_to_union: July 26th, 1788\r\n          time_zone: \"Eastern: UTC -5/-4\"\r\n        :louisiana:\r\n          name: Louisiana\r\n          :population:\r\n            total: 4_700_000\r\n          demonym: Louisianian\r\n          capital: Baton Rouge\r\n          motto: Union, Justice, Confidence\r\n          admission_to_union: April 30th, 1812\r\n          time_zone: \"Central: UTC −6/−5\"\r\n\r\n\r\n    /test/fixtures/geourischemes.yml\r\n\r\n        :terrytown:\r\n          x: -90.029444\r\n          y: 29.902222\r\n          z: 3.9624\r\n        :new_york_city:\r\n          x: -74.0059\r\n          y: 40.7127\r\n          z: 0.6096\r\n            \r\n\r\n    You may notice attributes that represent relationships are automatically converted to\r\n    the corresponding ruby objects based on the provided id. Currently, this library supports\r\n    1-N referenced, 1-1 referenced, 1-1 embedded relationships, and 1-N embedded relationships.\r\n    If a relation already exists in the db, this library will return it instead of recreating it.\r\n    \r\n3.  Invoke `MongoidFixtures::load(City)`\r\n4.  The above method invocation will load all test fixture instances of City objects defined\r\n    in /test/fixtures/cities.yml as well as dependent objects\r\n5.  Use your fixtures!\r\n\r\n        cities = MongoidFixtures::load(City)\r\n        puts cities # {:new_york_city=>#<City _id: 55ebc6b2e138231068000004, name: \"New York City\", time_zone: nil, demonym: \"New Yorker\", settled: 1624, consolidated: 1989, custom_attributes: [{\"boroughs\"=>[\"Manhattan\", \"The Bronx\", \"Brooklyn\", \"Queens\", \"Staten Island\"]}], geo_uri_scheme_id: BSON::ObjectId('55ebc6b2e138231068000006'), _type: \"City\", state_id: BSON::ObjectId('55ebc6b2e138231068000000')>, :terrytown=>#<City _id: 55ebc6b2e13823106800000c, name: \"Terrytown\", time_zone: nil, demonym: nil, settled: nil, consolidated: nil, custom_attributes: nil, geo_uri_scheme_id: BSON::ObjectId('55ebc6b2e138231068000005'), _type: \"City\", state_id: BSON::ObjectId('55ebc6b2e138231068000002')>}\r\n\r\n    In the DB:\r\n      \r\n        /* 0 */\r\n        {\r\n            \"_id\" : ObjectId(\"55eb4adae1382309c5000003\"),\r\n            \"x\" : -90.029444,\r\n            \"y\" : 29.902222,\r\n            \"z\" : 3.9624\r\n        }\r\n\r\n        /* 1 */\r\n        {\r\n            \"_id\" : ObjectId(\"55eb4adae1382309c5000004\"),\r\n            \"x\" : -74.0059,\r\n            \"y\" : 40.7127,\r\n            \"z\" : 0.6096\r\n        }\r\n\r\n        /* 0 */\r\n        {\r\n            \"_id\" : ObjectId(\"55ebc6b2e138231068000000\"),\r\n            \"_type\" : \"State\",\r\n            \"name\" : \"New York\",\r\n            \"population\" : {\r\n                \"_id\" : ObjectId(\"55ebc6b2e138231068000001\"),\r\n                \"total\" : 20000000\r\n            },\r\n            \"demonym\" : \"New Yorker\",\r\n            \"capital\" : \"Albany\",\r\n            \"motto\" : \"Excelsior\",\r\n            \"admission_to_union\" : \"July 26th, 1788\",\r\n            \"time_zone\" : \"Eastern: UTC -5/-4\"\r\n        }\r\n\r\n        /* 1 */\r\n        {\r\n            \"_id\" : ObjectId(\"55ebc6b2e138231068000002\"),\r\n            \"_type\" : \"State\",\r\n            \"name\" : \"Louisiana\",\r\n            \"population\" : {\r\n                \"_id\" : ObjectId(\"55ebc6b2e138231068000003\"),\r\n                \"total\" : 4700000\r\n            },\r\n            \"demonym\" : \"Louisianian\",\r\n            \"capital\" : \"Baton Rouge\",\r\n            \"motto\" : \"Union, Justice, Confidence\",\r\n            \"admission_to_union\" : \"April 30th, 1812\",\r\n            \"time_zone\" : \"Central: UTC −6/−5\"\r\n        }\r\n\r\n        /* 2 */\r\n        {\r\n            \"_id\" : ObjectId(\"55ebc6b2e138231068000004\"),\r\n            \"_type\" : \"City\",\r\n            \"name\" : \"New York City\",\r\n            \"population\" : {\r\n                \"_id\" : ObjectId(\"55ebc6b2e138231068000007\"),\r\n                \"total\" : 9000000,\r\n                \"rank\" : 1,\r\n                \"density\" : \"10,756.0/km2\",\r\n                \"msa\" : 20092883,\r\n                \"csa\" : 23632722,\r\n                \"source\" : \"U.S. Census (2014)\"\r\n            },\r\n            \"demonym\" : \"New Yorker\",\r\n            \"settled\" : 1624,\r\n            \"consolidated\" : 1989,\r\n            \"custom_attributes\" : [\r\n                {\r\n                    \"boroughs\" : [\r\n                        \"Manhattan\",\r\n                        \"The Bronx\",\r\n                        \"Brooklyn\",\r\n                        \"Queens\",\r\n                        \"Staten Island\"\r\n                    ]\r\n                }\r\n            ],\r\n            \"people\" : [\r\n                {\r\n                    \"_id\" : ObjectId(\"55ebc6b2e138231068000008\"),\r\n                    \"first_name\" : \"Kareem\",\r\n                    \"paternal_surname\" : \"Abdul-Jabbar\",\r\n                    \"born\" : ISODate(\"1947-04-16T00:00:00.000Z\"),\r\n                    \"description\" : \"basketball player\"\r\n                },\r\n                {\r\n                    \"_id\" : ObjectId(\"55ebc6b2e138231068000009\"),\r\n                    \"first_name\" : \"Robert\",\r\n                    \"middle_name\" : \"John\",\r\n                    \"paternal_surname\" : \"Downey\",\r\n                    \"suffix\" : \"Jr.\",\r\n                    \"born\" : ISODate(\"1965-04-04T00:00:00.000Z\"),\r\n                    \"description\" : \"an American actor whose career has included critical and popular success in his youth, followed by a period of substance abuse and legal troubles, and a resurgence of commercial success in middle age.\"\r\n                },\r\n                {\r\n                    \"_id\" : ObjectId(\"55ebc6b2e13823106800000a\"),\r\n                    \"first_name\" : \"Edward\",\r\n                    \"middle_name\" : \"Kennedy\",\r\n                    \"paternal_surname\" : \"Ellington\",\r\n                    \"nick_names\" : [\r\n                        \"Duke\"\r\n                    ],\r\n                    \"born\" : ISODate(\"1899-04-29T00:00:00.000Z\"),\r\n                    \"died\" : ISODate(\"1974-05-24T00:00:00.000Z\"),\r\n                    \"description\" : \"was an American composer, pianist and bandleader of jazz orchestras. He led his orchestra from 1923 until his death, his career spanning over 50 years.\"\r\n                },\r\n                {\r\n                    \"_id\" : ObjectId(\"55ebc6b2e13823106800000b\"),\r\n                    \"first_name\" : \"Christopher\",\r\n                    \"middle_name\" : \"George\",\r\n                    \"paternal_surname\" : \"Latore\",\r\n                    \"maternal_surname\" : \"Wallace\",\r\n                    \"nick_names\" : [\r\n                        \"The Notorious B.I.G.\",\r\n                        \"B.I.G.\",\r\n                        \"Biggie Smalls\",\r\n                        \"Big Poppa\",\r\n                        \"Frank White\",\r\n                        \"King of New York\"\r\n                    ],\r\n                    \"born\" : ISODate(\"1972-05-21T00:00:00.000Z\"),\r\n                    \"died\" : ISODate(\"1997-03-09T00:00:00.000Z\"),\r\n                    \"description\" : \"was an American rapper. Wallace is consistently ranked as one of the greatest rappers ever and one of the most influential rappers of all time.\"\r\n                }\r\n            ],\r\n            \"state_id\" : ObjectId(\"55ebc6b2e138231068000000\"),\r\n            \"geo_uri_scheme_id\" : ObjectId(\"55ebc6b2e138231068000006\")\r\n        }\r\n\r\n        /* 3 */\r\n        {\r\n            \"_id\" : ObjectId(\"55ebc6b2e13823106800000c\"),\r\n            \"_type\" : \"City\",\r\n            \"name\" : \"Terrytown\",\r\n            \"state_id\" : ObjectId(\"55ebc6b2e138231068000002\"),\r\n            \"population\" : {\r\n                \"_id\" : ObjectId(\"55ebc6b2e13823106800000d\"),\r\n                \"total\" : 24000\r\n            },\r\n            \"geo_uri_scheme_id\" : ObjectId(\"55ebc6b2e138231068000005\")\r\n        }\r\n\r\n## Development\r\n\r\nAfter checking out the repo, run `bin/setup` to install dependencies. You can also run `bin/console` for an interactive prompt that will allow you to experiment.\r\n\r\nTo install this gem onto your local machine, run `bundle exec rake install`. To release a new version, update the version number in `version.rb`, and then run `bundle exec rake release`, which will create a git tag for the version, push git commits and tags, and push the `.gem` file to [rubygems.org](https://rubygems.org).\r\n\r\n## Contributing\r\n\r\nBug reports and pull requests are welcome on GitHub at https://github.com/nycjv321/mongoid_fixtures.\r\n\r\n\r\n## License\r\n\r\nThe gem is available as open source under the terms of the [MIT License](http://opensource.org/licenses/MIT).\r\n\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}